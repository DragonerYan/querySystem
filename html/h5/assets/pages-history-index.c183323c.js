import{o as t,c as e,w as i,C as s,q as a,E as o,b as l,A as n,p as r,k as d,i as c,n as u,d as p,a4 as m,a3 as h,e as f,a as g,U as y,a9 as b,r as k,g as _,t as x,x as S,f as w,F as B,z as v}from"./index-3120331b.js";import{_ as T}from"./uv-navbar.d68dac94.js";import{_ as C,r as I,a as $}from"./uni-app.es.25f5d80b.js";import{_ as j}from"./uni-icons.0b93f177.js";import{j as A,a as F,_ as z,o as N}from"./baseApi.6213607f.js";import{d as P}from"./dayjs.min.b2c80d6d.js";import"./uv-icon.e9900608.js";const D=C({name:"UniBadge",emits:["click"],props:{type:{type:String,default:"error"},inverted:{type:Boolean,default:!1},isDot:{type:Boolean,default:!1},maxNum:{type:Number,default:99},absolute:{type:String,default:""},offset:{type:Array,default:()=>[0,0]},text:{type:[String,Number],default:""},size:{type:String,default:"small"},customStyle:{type:Object,default:()=>({})}},data:()=>({}),computed:{width(){return 8*String(this.text).length+12},classNames(){const{inverted:t,type:e,size:i,absolute:s}=this;return[t?"uni-badge--"+e+"-inverted":"","uni-badge--"+e,"uni-badge--"+i,s?"uni-badge--absolute":""].join(" ")},positionStyle(){if(!this.absolute)return{};let t=this.width/2,e=10;this.isDot&&(t=5,e=5);const i=`${-t+this.offset[0]}px`,s=`${-e+this.offset[1]}px`,a={rightTop:{right:i,top:s},rightBottom:{right:i,bottom:s},leftBottom:{left:i,bottom:s},leftTop:{left:i,top:s}},o=a[this.absolute];return o||a.rightTop},dotStyle(){return this.isDot?{width:"10px",minWidth:"0",height:"10px",padding:"0",borderRadius:"10px"}:{}},displayValue(){const{isDot:t,text:e,maxNum:i}=this;return t?"":Number(e)>i?`${i}+`:e}},methods:{onClick(){this.$emit("click")}}},[["render",function(u,p,m,h,f,g){const y=d,b=c;return t(),e(b,{class:"uni-badge--x"},{default:i((()=>[s(u.$slots,"default",{},void 0,!0),m.text?(t(),e(y,{key:0,class:a([g.classNames,"uni-badge"]),style:o([g.positionStyle,m.customStyle,g.dotStyle]),onClick:p[0]||(p[0]=t=>g.onClick())},{default:i((()=>[l(n(g.displayValue),1)])),_:1},8,["class","style"])):r("",!0)])),_:3})}],["__scopeId","data-v-414d462c"]]);const L=C({name:"UniListItem",emits:["click","switchChange"],props:{direction:{type:String,default:"row"},title:{type:String,default:""},note:{type:String,default:""},ellipsis:{type:[Number,String],default:0},disabled:{type:[Boolean,String],default:!1},clickable:{type:Boolean,default:!1},showArrow:{type:[Boolean,String],default:!1},link:{type:[Boolean,String],default:!1},to:{type:String,default:""},showBadge:{type:[Boolean,String],default:!1},showSwitch:{type:[Boolean,String],default:!1},switchChecked:{type:[Boolean,String],default:!1},badgeText:{type:String,default:""},badgeType:{type:String,default:"success"},badgeStyle:{type:Object,default:()=>({})},rightText:{type:String,default:""},thumb:{type:String,default:""},thumbSize:{type:String,default:"base"},showExtraIcon:{type:[Boolean,String],default:!1},extraIcon:{type:Object,default:()=>({type:"",color:"#000000",size:20,customPrefix:""})},border:{type:Boolean,default:!0},customStyle:{type:Object,default:()=>({padding:"",backgroundColor:"#FFFFFF"})},keepScrollPosition:{type:Boolean,default:!1}},watch:{"customStyle.padding":{handler(t){"number"==typeof t&&(t+="");let e=t.split(" ");if(1===e.length){const t=e[0];this.padding={top:t,right:t,bottom:t,left:t}}else if(2===e.length){const[t,i]=e;this.padding={top:t,right:i,bottom:t,left:i}}else if(4===e.length){const[t,i,s,a]=e;this.padding={top:t,right:i,bottom:s,left:a}}},immediate:!0}},data:()=>({isFirstChild:!1,padding:{top:"",right:"",bottom:"",left:""}}),mounted(){this.list=this.getForm(),this.list&&(this.list.firstChildAppend||(this.list.firstChildAppend=!0,this.isFirstChild=!0))},methods:{getForm(t="uniList"){let e=this.$parent,i=e.$options.name;for(;i!==t;){if(e=e.$parent,!e)return!1;i=e.$options.name}return e},onClick(){""===this.to?(this.clickable||this.link)&&this.$emit("click",{data:{}}):this.openPage()},onSwitchChange(t){this.$emit("switchChange",t.detail)},openPage(){-1!==["navigateTo","redirectTo","reLaunch","switchTab"].indexOf(this.link)?this.pageApi(this.link):this.pageApi("navigateTo")},pageApi(t){let e={url:this.to,success:t=>{this.$emit("click",{data:t})},fail:t=>{this.$emit("click",{data:t})}};switch(t){case"navigateTo":default:u(e);break;case"redirectTo":h(e);break;case"reLaunch":m(e);break;case"switchTab":p(e)}}}},[["render",function(u,p,m,h,k,_){const x=c,S=y,w=I(f("uni-icons"),j),B=d,v=I(f("uni-badge"),D),T=b;return t(),e(x,{class:a([{"uni-list-item--disabled":m.disabled},"uni-list-item"]),style:o({"background-color":m.customStyle.backgroundColor}),"hover-class":!m.clickable&&!m.link||m.disabled||m.showSwitch?"":"uni-list-item--hover",onClick:_.onClick},{default:i((()=>[k.isFirstChild?r("",!0):(t(),e(x,{key:0,class:a(["border--left",{"uni-list--border":m.border}])},null,8,["class"])),g(x,{class:a(["uni-list-item__container",{"container--right":m.showArrow||m.link,"flex--direction":"column"===m.direction}]),style:o({paddingTop:k.padding.top,paddingLeft:k.padding.left,paddingRight:k.padding.right,paddingBottom:k.padding.bottom})},{default:i((()=>[s(u.$slots,"header",{},(()=>[g(x,{class:"uni-list-item__header"},{default:i((()=>[m.thumb?(t(),e(x,{key:0,class:"uni-list-item__icon"},{default:i((()=>[g(S,{src:m.thumb,class:a(["uni-list-item__icon-img",["uni-list--"+m.thumbSize]])},null,8,["src","class"])])),_:1})):m.showExtraIcon?(t(),e(x,{key:1,class:"uni-list-item__icon"},{default:i((()=>[g(w,{customPrefix:m.extraIcon.customPrefix,color:m.extraIcon.color,size:m.extraIcon.size,type:m.extraIcon.type},null,8,["customPrefix","color","size","type"])])),_:1})):r("",!0)])),_:1})]),!0),s(u.$slots,"body",{},(()=>[g(x,{class:a(["uni-list-item__content",{"uni-list-item__content--center":m.thumb||m.showExtraIcon||m.showBadge||m.showSwitch}])},{default:i((()=>[m.title?(t(),e(B,{key:0,class:a(["uni-list-item__content-title",[0!==m.ellipsis&&m.ellipsis<=2?"uni-ellipsis-"+m.ellipsis:""]])},{default:i((()=>[l(n(m.title),1)])),_:1},8,["class"])):r("",!0),m.note?(t(),e(B,{key:1,class:"uni-list-item__content-note"},{default:i((()=>[l(n(m.note),1)])),_:1})):r("",!0)])),_:1},8,["class"])]),!0),s(u.$slots,"footer",{},(()=>[m.rightText||m.showBadge||m.showSwitch?(t(),e(x,{key:0,class:a(["uni-list-item__extra",{"flex--justify":"column"===m.direction}])},{default:i((()=>[m.rightText?(t(),e(B,{key:0,class:"uni-list-item__extra-text"},{default:i((()=>[l(n(m.rightText),1)])),_:1})):r("",!0),m.showBadge?(t(),e(v,{key:1,type:m.badgeType,text:m.badgeText,"custom-style":m.badgeStyle},null,8,["type","text","custom-style"])):r("",!0),m.showSwitch?(t(),e(T,{key:2,disabled:m.disabled,checked:m.switchChecked,onChange:_.onSwitchChange},null,8,["disabled","checked","onChange"])):r("",!0)])),_:1},8,["class"])):r("",!0)]),!0)])),_:3},8,["class","style"]),m.showArrow||m.link?(t(),e(w,{key:1,size:16,class:"uni-icon-wrapper",color:"#bbb",type:"arrowright"})):r("",!0)])),_:3},8,["class","style","hover-class","onClick"])}],["__scopeId","data-v-77963a5a"]]);const O=C({name:"uniList","mp-weixin":{options:{multipleSlots:!1}},props:{stackFromEnd:{type:Boolean,default:!1},enableBackToTop:{type:[Boolean,String],default:!1},scrollY:{type:[Boolean,String],default:!1},border:{type:Boolean,default:!0},renderReverse:{type:Boolean,default:!1}},created(){this.firstChildAppend=!1},methods:{loadMore(t){this.$emit("scrolltolower")},scroll(t){this.$emit("scroll",t)}}},[["render",function(a,o,l,n,d,u){const p=c;return t(),e(p,{class:"uni-list uni-border-top-bottom"},{default:i((()=>[l.border?(t(),e(p,{key:0,class:"uni-list--border-top"})):r("",!0),s(a.$slots,"default",{},void 0,!0),l.border?(t(),e(p,{key:1,class:"uni-list--border-bottom"})):r("",!0)])),_:3})}],["__scopeId","data-v-c1d7c358"]]),E=C({__name:"index",setup(s){const o=k(_("userInfo")||null),l=o.value?o.value.communityId:"",n=o.value?o.value.communityName:"",r=k([]),d={0:"继续填写",1:"待审核",2:"审核通过",3:"审核不通过"};$((()=>{c()}));const c=async()=>{x(),Promise.all([A({communityId:l}),F({communityId:l})]).then((t=>{const e=t[1].data.filter((t=>t.communityId==l));let i=[...t[0].data,...e];i=i.map((t=>{let e=t.state;const i=t.hasOwnProperty("management");return i||(t.state="0"==e?"1":e),{...t,flag:i,dateTime:P(t.dateTime).format("YYYY-MM-DD HH:mm:ss"),court_name:i?t.courtName:n,state_name:d[t.state]}})),r.value=z.orderBy(i,["state","dateTime"],["asc","desc"]),S()}))};return(s,o)=>{const l=I(f("uv-navbar"),T),n=I(f("uni-list-item"),L),d=I(f("uni-list"),O);return t(),w(B,null,[g(l,{title:"填报列表",border:"",leftIconSize:"50rpx",placeholder:"",autoBack:""}),g(d,{"border-full":""},{default:i((()=>[(t(!0),w(B,null,v(r.value,(i=>(t(),e(n,{clickable:"",onClick:t=>(t=>{const e={state:t.state,communityId:t.communityId,courtName:t.court_name};t.flag?u({url:"/pages/city/index?"+N(e)}):u({url:"/pages/area/index?"+N(e)})})(i),class:a("item-state"+i.state),rightText:i.state_name,key:i.id,title:i.court_name,showArrow:"",note:i.dateTime},null,8,["onClick","class","rightText","title","note"])))),128))])),_:1})],64)}}},[["__scopeId","data-v-1f1e28b4"]]);export{E as default};
